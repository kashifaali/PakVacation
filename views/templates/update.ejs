<% layout('/layout/boilerplate.ejs') %>
<body class="bg-gray-100">
    <form 
        action="/update/<%= updatedata._id %>?_method=PUT" 
        method="post" 
        enctype="multipart/form-data" 
        class="bg-white p-6 rounded-lg shadow-lg max-w-md w-full m-auto mt-6 mb-5"
    >
        <h1 class="text-xl font-bold text-gray-800 text-center mb-6">Update Listing</h1>

        <!-- Title Field -->
        <div class="mb-4">
            <label for="title" class="block text-sm font-bold text-gray-700 mb-2">Title:</label>
            <input 
                type="text" 
                id="title" 
                name="title" 
                value="<%= updatedata.title %>" 
                required 
                class="w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring focus:ring-blue-300"
            >
        </div>

        <!-- Description Field -->
        <div class="mb-4">
            <label for="description" class="block text-sm font-bold text-gray-700 mb-2">Description:</label>
            <textarea 
                id="description" 
                name="description" 
                rows="4" 
                required 
                class="w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring focus:ring-blue-300"
            ><%= updatedata.description %></textarea>
        </div>

        <!-- Price Field -->
        <div class="mb-4">
            <label for="price" class="block text-sm font-bold text-gray-700 mb-2">Price:</label>
            <input 
                type="number" 
                id="price" 
                name="price" 
                value="<%= updatedata.price %>" 
                step="0.01" 
                required 
                class="w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring focus:ring-blue-300"
            >
        </div>

        <!-- Location Field -->
        <div class="mb-4">
            <label for="location" class="block text-sm font-bold text-gray-700 mb-2">Location:</label>
            <input 
                type="text" 
                id="location" 
                name="location" 
                value="<%= updatedata.location %>" 
                required 
                class="w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring focus:ring-blue-300"
            >
        </div>

        <!-- Country Field -->
        <div class="mb-4">
            <label for="country" class="block text-sm font-bold text-gray-700 mb-2">Country:</label>
            <input 
                type="text" 
                id="country" 
                name="country" 
                value="<%= updatedata.country %>" 
                required 
                class="w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring focus:ring-blue-300"
            >
        </div>

        <!-- Image Field -->
        <div class="mb-4">
            <label for="image" class="block text-sm font-bold text-gray-700 mb-2">Image:</label>
            <input 
                type="file" 
                id="image" 
                name="image" 
                class="w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring focus:ring-blue-300"
            >
        </div>

        <!-- Image Preview (If there's an existing image) -->
        <% if (updatedata.image && updatedata.image.url) { %>
            <div class="mb-4">
                <p class="text-sm font-bold text-gray-700 mb-2">Current Image:</p>
                <img src="<%= updatedata.image.url %>" alt="Current Listing Image" class="w-full h-72 rounded">
            </div>
        <% } %>

        <!-- Submit Button -->
        <div>
            <button 
                type="submit" 
                class="w-full bg-blue-500 text-white py-2 rounded hover:bg-blue-600 transition focus:outline-none focus:ring focus:ring-blue-300"
            >
                Update Listing
            </button>
        </div>
    </form>
</body>
